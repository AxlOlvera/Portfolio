/* ============================================
   LAYOUT — "Manhattan Slate"
   ─────────────────────────────────────────────
   Section rhythm, container geometry, and grid
   structures. Sections alternate between warm
   off-white and cool gray-blue to create depth
   without dramatic contrast — like floors in a
   corporate tower, each distinct but cohesive.
   ============================================ */

/* ── Header ───────────────────────────────────────── */
.header {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  /* Slightly translucent on-scroll — see scrolled state below */
  background-color: rgba(246, 245, 243, 0.95);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--color-border-light);
  z-index: var(--z-fixed);
  transition: all var(--transition-base);
}

.header.header--scrolled {
  background-color: rgba(255, 255, 255, 0.97);
  border-bottom-color: var(--color-border);
  box-shadow: var(--shadow-sm);
}

/* ── Navigation ───────────────────────────────────── */
.nav {
  width: 100%;
  padding: var(--space-md) 0;
}

.nav__container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-xl);
}

/* Logo: serif lettermark — authority in two letters */
.nav__logo {
  font-family:    var(--font-display);
  font-size:      var(--font-size-xl);
  font-weight:    var(--font-weight-normal);
  color:          var(--color-primary);
  display:        flex;
  align-items:    center;
  gap:            var(--space-sm);
  letter-spacing: var(--tracking-tight);
  transition:     opacity var(--transition-base);
  flex-shrink: 0;
}

.nav__logo:hover { opacity: 0.75; color: var(--color-primary); }

/* Gold monogram gradient */
.nav__logo-text {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-gold) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.nav__menu {
  display:     flex;
  align-items: center;
  gap:         var(--space-xl);
}

.nav__item { position: relative; }

/* Nav links: uppercase, tight tracking — corporate convention */
.nav__link {
  font-family:    var(--font-body);
  font-size:      var(--font-size-xs);
  font-weight:    var(--font-weight-semibold);
  color:          var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  padding:        var(--space-xs) 0;
  position:       relative;
  transition:     color var(--transition-base);
}

/* Underline indicator: gold, grows from left */
.nav__link::after {
  content: '';
  position: absolute;
  bottom: -2px; left: 0;
  width: 0; height: 1.5px;
  background-color: var(--color-gold);
  transition: width var(--transition-base);
}

.nav__link:hover,
.nav__link--active {
  color: var(--color-primary);
}

.nav__link:hover::after,
.nav__link--active::after { width: 100%; }

/* Language toggle button */
.nav__lang-btn {
  font-family:    var(--font-body);
  font-size:      var(--font-size-xs);
  font-weight:    var(--font-weight-semibold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color:          var(--color-text-tertiary);
  border:         1.5px solid var(--color-border);
  border-radius:  var(--border-radius-sm);
  padding:        0.3rem 0.9rem;
  background:     transparent;
  transition:     all var(--transition-base);
  cursor: pointer;
}

.nav__lang-btn:hover {
  color:            var(--color-primary);
  border-color:     var(--color-gold);
  background-color: rgba(170, 136, 71, 0.05);
}

/* Mobile hamburger — hidden on desktop */
.nav__toggle {
  display:        none;
  flex-direction: column;
  gap:            5px;
  padding:        var(--space-xs);
  cursor:         pointer;
}

.nav__toggle-line {
  width:            24px;
  height:           1.5px;
  background-color: var(--color-primary);
  transition:       all var(--transition-base);
}

/* ── Main offset ─────────────────────────────────── */
.main { margin-top: 68px; }

/* ── Section Rhythm ───────────────────────────────── */
/* Base reset — no section gets a default background here.
   Each section is assigned explicitly below.
   This is intentional: nth-child alternation is fragile
   because adding/removing sections breaks the whole sequence. */
section {
  padding:  var(--space-5xl) 0;
  position: relative;
}

/* ── Per-section backgrounds ──────────────────────────
   Each section gets a named, deliberate background.
   The deltas between values are small but perceptible —
   the eye reads them as "rooms", creating rhythm without
   using color in a way that feels designed or decorative.

   Sequence logic:
     Hero      → warm parchment (welcoming)
     Sobre mí  → pure white (cards pop, open feel)
     Proyectos → cool blue-gray (importance marker)
     Habilidades→ warm near-white (soft pause, breathe)
     Contacto  → deeper cool (grounded, final)
*/
.hero     { background-color: var(--bg-hero);     }
.about    { background-color: var(--bg-about);    }
.projects { background-color: var(--bg-projects); }
.skills   { background-color: var(--bg-skills);   }
.contact  { background-color: var(--bg-contact);  }

/* Thin top border on alternating sections — architectural
   separator. 1px, barely-there, just enough structure. */
.about,
.projects,
.skills,
.contact {
  border-top: 1px solid var(--color-border-light);
}

/* ── Container Utility ────────────────────────────── */
.hero__container,
.about__container,
.projects__container,
.skills__container,
.contact__container {
  max-width: var(--container-max-width);
  margin:    0 auto;
  padding:   0 var(--container-padding);
}

/* ── Hero Layout ──────────────────────────────────── */
.hero {
  /* Three-layer background system:
     1. Top-right blue bloom — corporate depth, suggests
        technology without being obvious about it
     2. Bottom-left gold warmth — grounds the gold accent
        used throughout (section numbers, underlines)
     3. Warm parchment base — not white, not gray
     The blooms are ~6-8% opacity, not 3-4% — that was
     too invisible. This is still subtle but READABLE. */
  background:
    radial-gradient(ellipse 65% 55% at 78% 30%,
      rgba(26, 60, 110, 0.07) 0%,
      transparent 65%),
    radial-gradient(ellipse 45% 40% at 18% 85%,
      rgba(170, 136, 71, 0.06) 0%,
      transparent 55%),
    var(--bg-hero);

  min-height: calc(100vh - 68px);
  display:    flex;
  align-items: center;
  position:   relative;
  overflow:   hidden;
}

/* Architectural grid overlay — bumped from 0.025 → 0.04
   opacity so it's actually visible on the warm background.
   Evokes blueprint / drafting paper / technical precision. */
.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(44, 64, 90, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(44, 64, 90, 0.04) 1px, transparent 1px);
  background-size: 52px 52px;
  pointer-events: none;
  z-index: 0;
}

/* Diagonal gradient overlay — very faint, adds dimension
   so the hero reads as "intentionally designed" rather
   than "left on default". Runs bottom-left → top-right. */
.hero::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    transparent 40%,
    rgba(235, 240, 247, 0.55) 100%
  );
  pointer-events: none;
  z-index: 0;
}

.hero__container {
  display:       grid;
  grid-template-columns: 1fr 1fr;
  gap:           var(--space-4xl);
  align-items:   center;
  position:      relative;
  z-index:       1;
}

.hero__content { max-width: 580px; }

.hero__visual {
  position:        relative;
  height:          480px;
  display:         flex;
  align-items:     center;
  justify-content: center;
}

.hero__scroll {
  position:   absolute;
  bottom:     var(--space-xl);
  left:       50%;
  transform:  translateX(-50%);
  display:    flex;
  flex-direction: column;
  align-items: center;
  gap:         var(--space-sm);
  color:       var(--color-text-tertiary);
  font-family: var(--font-body);
  font-size:   var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  z-index: 1;
}

.hero__scroll-icon { animation: bounce 2.4s ease-in-out infinite; }

/* ── About Layout ─────────────────────────────────── */
.about__container {
  display:               grid;
  grid-template-columns: 2fr 1fr;
  gap:                   var(--space-4xl);
  align-items:           start;
}

.about__text    { max-width: 680px; }

.about__stats {
  display:        flex;
  flex-direction: column;
  gap:            var(--space-lg);
  position:       sticky;
  top:            calc(68px + var(--space-lg));
}

/* ── Projects Layout ──────────────────────────────── */
/* Projects section gets a cool blue-gray bg (--bg-projects).
   Cards are white, so they float visibly above the background —
   this contrast is the whole point. Gap increased so cards
   don't crowd each other on the cool field. */
.projects__grid {
  display:               grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap:                   var(--space-xl);
  margin-top:            var(--space-3xl);
}

.project-card--featured { grid-column: 1 / -1; }

/* ── Skills Layout ────────────────────────────────── */
/* With icon grid */
.skills__grid {
  display:               grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:                   var(--space-xl);
  margin-top:            var(--space-3xl);
}

.skills__grid--icons {
  display:               grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:                   var(--space-xl);
  margin-top:            var(--space-3xl);
}

/* ── Contact Layout ───────────────────────────────── */
/* Contact sits on --bg-contact (deepest cool gray).
   The form card is white on a noticeably different
   surface — clear visual hierarchy at page close. */
.contact__content {
  display:               grid;
  grid-template-columns: 1fr 1fr;
  gap:                   var(--space-4xl);
  margin-top:            var(--space-3xl);
}

.contact__methods {
  margin-top:     var(--space-xl);
  display:        flex;
  flex-direction: column;
  gap:            var(--space-md);
}

/* ── Footer ───────────────────────────────────────── */
.footer {
  /* Footer matches primary nav — dark, authoritative base */
  background-color: var(--color-primary);
  color:            var(--color-text-inverse);
  padding:          var(--space-2xl) 0;
  text-align:       center;
}

.footer__container {
  max-width: var(--container-max-width);
  margin:    0 auto;
  padding:   0 var(--container-padding);
}

.footer__text {
  font-size:     var(--font-size-sm);
  margin-bottom: var(--space-xs);
  color:         rgba(255, 255, 255, 0.7);
}

.footer__text strong { color: var(--color-text-inverse); }

.footer__copy {
  font-size: var(--font-size-xs);
  color:     rgba(255, 255, 255, 0.4);
  margin:    0;
  letter-spacing: var(--tracking-wide);
}

/* ── Responsive ───────────────────────────────────── */
@media (max-width: 1024px) {
  .hero__container   { grid-template-columns: 1fr; text-align: center; }
  .hero__content     { max-width: 100%; }
  .hero__visual      { height: 380px; }
  .about__container  { grid-template-columns: 1fr; }
  .about__stats      { position: static; }
  .contact__content  { grid-template-columns: 1fr; }
}

@media (max-width: 768px) {
  .nav__menu {
    position:         fixed;
    top:              68px; left: 0;
    width:            100%;
    height:           calc(100vh - 68px);
    background-color: var(--color-surface);   /* white panel on mobile */
    flex-direction:   column;
    justify-content:  center;
    gap:              var(--space-2xl);
    transform:        translateX(-100%);
    transition:       transform var(--transition-base);
    box-shadow:       var(--shadow-xl);
    z-index:          var(--z-fixed);
  }

  .nav__menu.nav__menu--active { transform: translateX(0); }

  .nav__link {
    font-size: var(--font-size-sm);
  }

  .nav__toggle { display: flex; }

  .nav__toggle.nav__toggle--active .nav__toggle-line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }
  .nav__toggle.nav__toggle--active .nav__toggle-line:nth-child(2) {
    opacity: 0;
  }
  .nav__toggle.nav__toggle--active .nav__toggle-line:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }

  section                { padding: var(--space-4xl) 0; }
  .hero                  { min-height: 80vh; }
  .hero__visual          { height: 260px; }
  .projects__grid        { grid-template-columns: 1fr; }
  .project-card--featured { grid-column: auto; }
  .skills__grid,
  .skills__grid--icons   { grid-template-columns: 1fr; }
}

@media (max-width: 480px) {
  .hero__container { gap: var(--space-xl); }
  .about__stats    { gap: var(--space-md); }
}